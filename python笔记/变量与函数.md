# 变量与函数

## 变量

1. 变量是一个**名字**，它所指代的是一段数据
2. 使用=来对这段数据的区域进行赋值   x=5
3. 新的值会覆盖掉旧的值
4. 新值的数据类型不必与旧值相同

#### 变量命名规则

1. 必须以字母或者下划线_开头
2. 命名可由字母，数字或下划线组成
3. 大小写敏感，尽量小写
4. 尽量避免使用保留字命名，慎用小写字母l和大写字母O

#### 更新变量

x+=2  <=>  x=x+2

#### 多变量赋值

a=b=c=2

a,b,c=1,2,6

## 函数FUNCTIONS

函数是一个名字，代表一串代码序列（流程，过程）

函数由两部分组成：header和body

​				header用于定义函数接口（函数**名称**或**参数**）

​				body包含函数所需要执行的操作

### header

header 用于定义函数的名称和参数

当函数被调用时，参数将会作为变量被提供给函数的body 部分 

可以提供多个参数(用逗号，分隔)，也可以不提供参数(0个)

header 以冒号(:)结尾，代表后面会跟着body 部分

函数的 header 的写法:
 def functionName(parameters):<!--括号里面是参数，例如(x,y)-->
	pass <!--函数的 body 部分，这里使用 pass 代替-->

<!--pass有个缩进-->

### Body

1. body 包含函数执行的语句(statement)

​	语句需要缩进(由Code Style Guide决定)

​	当语句不再缩进，函数部分结束

2. 一般会使用return 语句，来让函数返回其结果，但不是必须的

​	类似于用一个=来对多个变量赋值，函数的返回结果也可以不止	一个(用逗号，分隔)

3. 我们使用函数名来调用函数

​	函数名后紧跟一对括号 

4. 括号中是我们设定的参数的值，一个不多，一个不少

5. 函数会返回设定的return语句的值

eg：

def   double(x)：

​	return 2*x

print(double(2))

output:

​	4

<!--调用示例函数double()会返回一个值（2*x）-->

6. 函数可以有任意多个参数，也可以一个都没有，可是如果参数数目没有匹配的话，oops

   多返回值eg：

   def mmm():

   ​	return 9,2,8

   a,b,c=mmm()

   print(f"a={a},b={b},c={c}")

   output:

   a=9,b=2,c=8

## 8.1 定义函数

### 8.1.2 实参和形参

大家有时候会形参、实参不分，因此如果你看到有人将函数定义中的变量称为实参或将 函数调用中的变量称为形参，不要大惊小怪

## 8.2 传递实参

鉴于函数定义中可能包含多个形参，因此函数调用中也可能包含多个实参。向函数传递实参 的方式很多，可使用位置实参，这要求实参的顺序与形参的顺序相同；也可使用关键字实参，其 中每个实参都由变量名和值组成；还可使用列表和字典。下面来依次介绍这些方式。

### 8.2.1 位置实参

调用函数时，Python必须将函数调用中的每个实参都关联到函数定义中的一个形参。为此， 最简单的关联方式是基于实参的顺序。这种关联方式被称为位置实参。

1. 调用函数多次 你可以根据需要调用函数任意次
2. 位置实参的顺序很重要 使用位置实参来调用函数时，如果实参的顺序不正确，结果可能出乎意料，请确认函数调用中实参的顺序与函数定义中形参的顺序一致。

### 8.2.2 关键字实参

关键字实参是传递给函数的名称—值对。你直接在实参中将名称和值关联起来了，因此向函 数传递实参时不会混淆（不会得到名为Hamster的harry这样的结果）。关键字实参让你无需考虑函 数调用中的实参顺序，还清楚地指出了函数调用中各个值的用途。

关键字实参的顺序无关紧要，因为Python知道各个值该存储到哪个形参中。

`def describe_pet(animal_type, pet_name):  """显示宠物的信息"""`

​	`	print("\nI have a " + animal_type + ".") `

​	` print("My " + animal_type + "'s name is " + pet_name.title() + ".")  ` 

` describe_pet(animal_type='hamster', pet_name='harry')`

**使用关键字实参时，务必准确地指定函数定义中的形参名。**

### 8.2.3 默认值

编写函数时，可给每个形参指定默认值。在调用函数中给形参提供了实参时，Python将使用 指定的实参值；否则，将使用形参的默认值。因此，给形参指定默认值后，可在函数调用中省略 相应的实参。使用默认值可简化函数调用，还可清楚地指出函数的典型用法。如果显式地提供了实参，Python将忽略这个形参的默认值。

**使用默认值时，在形参列表中必须先列出没有默认值的形参，再列出有默认值的实参。 这让Python依然能够正确地解读位置实参。**

### 8.2.4 等效的函数调用

使用哪种调用方式无关紧要，只要函数调用能生成你希望的输出就行。使用对你来说最 容易理解的调用方式即可。

### 8.2.5 避免实参错误

## 8.3 返回值

### 8.3.1 返回简单值

### 8.3.2 让实参变成可选的

有时候，需要让实参变成可选的，这样使用函数的人就只需在必要时才提供额外的信息。可使用默认值来让实参变成可选的。

可选值让函数能够处理各种不同情形的同时，确保函数调用尽可能简单。

### 8.3.3 返回字典

函数可返回任何类型的值，包括列表和字典等较复杂的数据结构。、

`def build_person(first_name, last_name):`

​	 ` """返回一个字典，其中包含有关一个人的信息"""  `

​	` person = {'first': first_name, 'last': last_name}  `

`	return person`

### 8.3.4 结合使用函数和 while 循环

## 8.4 传递列表

将列表传递给函数后，函数就可对其进行修改。在函数中对这个列表所做的任何修改都是永 久性的，这让你能够高效地处理大量的数据。

## 8.4.1 在函数中修改列表

将列表传递给函数后，函数就可对其进行修改。在函数中对这个列表所做的任何修改都是**永久性**的，这让你能够高效地处理大量的数据。

eg:如果我们发现需要对打印代码进行修改，只需修改这些代码 一次，就能影响所有调用该函数的地方；与必须分别修改程序的多个地方相比，这种修改的效率更高

每个函数都应只负责一项具体的工作

### 8.4.2 禁止函数修改列表

有时候，需要禁止函数修改列表。可向函数传 递列表的副本而不是原件；这样函数所做的任何修改都只影响副本，而丝毫不影响原件。

`function_name(list_name[:])`

虽然向函数传递列表的副本可保留原始列表的内容，但除非有充分的理由需要传递副本，否 则还是应该将原始列表传递给函数，因为让函数使用现成列表可避免花时间和内存创建副本，从 而提高效率，在处理大型列表时尤其如此。

## 8.5 传递任意数量的实参

有时候，你预先不知道函数需要接受多少个实参，好在Python允许函数从调用语句中收集任 意数量的实参

方法：只用一个形参加星号比如*toppings,不管调用语句提供了多少实参，这个形参都将它们 统统收入囊中

`def make_pizza(*toppings):  """打印顾客点的所有配料"""  print(toppings)   make_pizza('pepperoni')  make_pizza('mushrooms', 'green peppers', 'extra cheese') `

形参名*toppings中的星号让Python创建一个名为toppings的空元组，并将收到的所有值都封 装到这个元组中。函数体内的print语句通过生成输出来证明Python能够处理使用一个值调用函 数的情形，也能处理使用三个值来调用函数的情形。它以类似的方式处理不同的调用，**注意， Python将实参封装到一个元组中，即便函数只收到一个值也如此**

### 8.5.1 结合使用位置实参和任意数量实参

如果要让函数接受不同类型的实参，必须在函数定义中将接纳任意数量实参的形参放在最 后。Python先匹配位置实参和关键字实参，再将余下的实参都收集到最后一个形参中

### 8.5.2 使用任意数量的关键字实参

有时候，需要接受任意数量的实参，但预先不知道传递给函数的会是什么样的信息。在这种 情况下，可将函数编写成能够接受任意数量的键—值对——调用语句提供了多少就接受多少。一 个这样的示例是创建用户简介：你知道你将收到有关用户的信息，但不确定会是什么样的信息。

`def build_profile(first, last, **user_info): `

` """创建一个字典，其中包含我们知道的有关用户的一切""" ` 

​	` profile = {}  profile['first_name'] = first  ` 

​	`	profile['last_name'] = last  `	

​	`	 for key, value in user_info.items():`

编写函数时，你可以以各种方式混合使用位置实参、关键字实参和任意数量的实参。知道这 些实参类型大有裨益，因为阅读别人编写的代码时经常会见到它们

## 8.6 将函数存储在模块中

函数的优点之一是，使用它们可将代码块与主程序分离。通过给函数指定描述性名称，可让 主程序容易理解得多。你还可以更进一步，将函数存储在被称为模块的独立文件中，再将模块导 入到主程序中。import语句允许在当前运行的程序文件中使用模块中的代码。 通过将函数存储在独立的文件中，可隐藏程序代码的细节，将重点放在程序的高层逻辑上。 这还能让你在众多不同的程序中重用函数。将函数存储在独立文件中后，可与其他程序员共享这 些文件而不是整个程序。知道如何导入函数还能让你使用其他程序员编写的函数库。

### 8.6.1 导入整个模块

要让函数是可导入的，得先创建模块。模块是扩展名为.py的文件，包含要导入到程序中的 代码。将文件pizza.py中除函数 make_pizza()之外的其他代码都删除,Python读取这个文件时，代码行import pizza让Python打开文件pizza.py，并将其中的所有函 数都复制到这个程序中。你看不到复制的代码，因为这个程序运行时，Python在幕后复制这些代 码。你只需知道，在making_pizzas.py中，可以使用pizza.py中定义的所有函数。要调用被导入的模块中的函数，可指定导入的模块的名称pizza和函数名make_pizza()，并用 句点分隔它们,这些代码的输出与没有导入模块的原始程序相同：

这就是一种导入方法：只需编写一条import语句并在其中指定模块名，就可在程序中使用该 模块中的所有函数。如果你使用这种import语句导入了名为module_name.py的整个模块，就可使用句点语法来使用其中任何一个函数。

### 8.6.2 导入特定的函数

你还可以导入模块中的特定函数，这种导入方法的语法如下

`from module_name import function_name`

通过用逗号分隔函数名，可根据需要从模块中导入任意数量的函数，要一个就指定其名称。

### 8.6.3 使用 as 给函数指定别名

如果要导入的函数的名称可能与程序中现有的名称冲突，或者函数的名称太长，可指定简短 而独一无二的别名——函数的另一个名称，类似于外号。要给函数指定这种特殊外号，需要在导 入它时这样做

`from pizza import make_pizza as mp`

关键字as将函数重命名为你提供的别名

### 8.6.4 使用 as 给模块指定别名

`import pizza as p`

上述import语句给模块pizza指定了别名p，但该模块中所有函数的名称都没变

### 8.6.5 导入模块中的所有函数

使用星号（*）运算符可让Python导入模块中的所有函数

`from pizza import * `

。由于导入 了每个函数，可通过名称来调用每个函数，而无需使用句点表示法。然而，使用并非自己编写的 大型模块时，最好不要采用这种导入方法：如果模块中有函数的名称与你的项目中使用的名称相 同，可能导致意想不到的结果：Python可能遇到多个名称相同的函数或变量，进而覆盖函数，而不是分别导入所有的函数。 最佳的做法是，要么只导入你需要使用的函数，要么导入整个模块并使用句点表示法。这能 让代码更清晰，更容易阅读和理解。

## 8.7 函数编写指南

编写函数时，需要牢记几个细节。应给函数指定描述性名称，且只在其中使用小写字母和下 划线。描述性名称可帮助你和别人明白代码想要做什么。给模块命名时也应遵循上述约定。 每个函数都应包含简要地阐述其功能的注释，该注释应紧跟在函数定义后面，并采用文档字 符串格式。文档良好的函数让其他程序员只需阅读文档字符串中的描述就能够使用它：他们完全 可以相信代码如描述的那样运行；只要知道函数的名称、需要的实参以及返回值的类型，就能在 自己的程序中使用它

1. 给形参指定默认值时，等号两边不要有空格

2. 大多数编辑器都会自动对齐后续参数列表行，使其缩进程度与你给第一个参数列表行指定的 缩进程度相同

3. 如果程序或模块包含多个函数，可使用两个空行将相邻的函数分开，这样将更容易知道前一 个函数在什么地方结束，下一个函数从什么地方开始

4. 所有的import语句都应放在文件开头，唯一例外的情形是，在文件开头使用了注释来描述整个程序

   

## 语句与表达式

### 对于表达式

1. 它本身是值
2. 它的计算结果是值

### 对于表达式

1. 它不是值
2. 它不能打印
3. 它能执行一些操作

**Python只能print表达式，如果你能用print（）输出它，那它就是表达式**

## 内置函数

python自己带的函数

### 一些基本数学函数

**但是他们不在math库中**

1. print(abs(-5))    -->绝对值
2. print(max(2,3))   -->返回最大值
3. print(min(2,3))   -->返回最小值
4. print(pow(2,10))  -->次方运算，等价于2**10
5. print(round(2.354,2))   -->取最近的一个整数，意思是2.354保留两位小数，并不完全是四舍五入，二进制精度丢失

## 变量作用域

1. 每个变量都有属于自己的作用范围
2. 超出作用范围后，变量不可见

**函数内的变量具有局部作用域，它只存在于函数内部，与其他函数中的同名变量无关**

*在函数外部定义变量时，变量具有全局作用域，在任何地方都可以使用，我们应该尽量避免使用全局变量，在非常少的一些场合会用到它*

## 返回语句

一旦返回，函数立即结束

没有返回语句，返回none

### print VS return

print是呈现，return是返回值

要用函数结果的话必须先返回值

## 函数组合

对于嵌套函数，应该先执行最内层的函数

## HELPER FUNCTIONS

编写函数是为了解决问题，我们还可以编写函数来存储那些经常被用到的一系列操作