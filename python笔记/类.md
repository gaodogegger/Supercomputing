## 9.1 创建和使用类

1. 约定俗成，首字母大写的名称是类，类定义中的括号是空的，因为我们要从空白创建这个类

   ![image-20241008202759276](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20241008202759276.png)

2. 方法:eg\__init__()

   类中的函数称为方法***；你前面学到的有关函数的一切都适用于方法，就目前而言，唯一重要 的差别是调用方法的方式。在这个方法的名称中，开头和末尾各有两个下划线，这是一种约 定，旨在避免Python默认方法与普通方法发生名称冲突。

   在方法的定义中，形 参self必不可少，还必须位于其他形参的前面。因为 Python调用这个\__init__()方法来创建Dog实例时，将自动传入实参self。每个与类相关联的方法 调用都自动传递实参self，它是一个指向实例本身的引用，让实例能够访问类中的属性和方法。**self会自动传递**，可以通过类的任何实例来访问这些变量，像这样可通过实例访问的变量称为属性。

   

3. 访问属性使用句点表示法（属性差不多就是函数的参数）

4. 调用方法（函数）:创建实例后，就可以使用句点表示法来调用Dog类中定义的任何方法

5. 创建多个实例 可按需求根据类创建任意数量的实例(I think 实例的another name is 变量)

## 9.2使用类和实例 

1. ### 给属性指定默认值

   类中的每个属性都必须有初始值，哪怕这个值是0或空字符串。在有些情况下，如设置默认 值时，在方法\__init__()内指定这种初始值是可行的；如果你对某个属性这样做了，就无需包含 为它提供初始值的形参。

2. ### 修改属性的值 

   可以以三种不同的方式修改属性的值：直接通过实例进行修改；通过方法进行设置；通过方 法进行递增（增加特定的值）

   1. 直接修改属性的值 要修改属性的值，最简单的方式是通过实例直接访问它。 有时候需要像这样直接访问属性，但其他时候需要编写对属性进行更新的方法。
   2. 通过方法修改属性的值，此时就相当于方法里头再搞一些函数，很巧妙。
   3. 通过方法对属性的值进行递增。你可以使用类似于上面的方法来控制用户修改属性值（如里程表读数）的方式，但能够 访问程序的人都可以通过直接访问属性来将里程表修改为任何值。要确保安全，除了进 行类似于前面的基本检查外，还需特别注意细节。

## 9.3继承

编写类时，并非总是要从空白开始。如果你要编写的类是另一个现成类的特殊版本，可使用 继承。一个类继承另一个类时，它将自动获得另一个类的所有属性和方法；原有的类称为父类， 而新类称为子类。子类继承了其父类的所有属性和方法，同时还可以定义自己的属性和方法。

### 9.3.1 子类的方法\__init__()

创建子类的实例时，Python首先需要完成的任务是给父类的所有属性赋值。创建子类时，父类必须包含在当前文件中，且位于子类前面。定义子类时，必须在括号内指定父类的名称。然后用方法\__init__()先初始化父类属性。

### 9.3.3 给子类定义属性和方法

让一个类继承另一个类后，可添加区分子类和父类所需的新属性和方法。

`class Car():`

​	`此处省略`

`class ElectricCar(Car): `

​	`def \__init__(self, make, model, year):  `

​	`	"""  `

​	`电动汽车的独特之处 初始化父类的属性，再初始化电动汽车特有的属性 	`

​	`	""" `

### 9.3.4 重写父类的方法

对于父类的方法，只要它不符合子类模拟的实物的行为，都可对其进行重写。为此，可在子 类中定义一个这样的方法，即它与要重写的父类方法**同名**。这样，Python将不会考虑这个父类方 法，而只关注你在子类中定义的相应方法。

### 9.3.5 将实例用作属性

使用代码模拟实物时，你可能会发现自己给类添加的细节越来越多：属性和方法清单以及文 件都越来越长。在这种情况下，可能需要将类的一部分作为一个独立的类提取出来。你可以将大 型类拆分成多个协同工作的小类。

### 9.3.6 模拟实物

解决上述问题时，你从较高的逻辑层面（而不是语法层 面）考虑；你考虑的不是Python，而是如何使用代码来表示实物。

## 9.4 导入类

随着你不断地给类添加功能，文件可能变得很长，即便你妥善地使用了继承亦如此。为遵循 Python的总体理念，应让文件尽可能整洁。为在这方面提供帮助，Python允许你将类存储在模块 中，然后在主程序中导入所需的模块

### 9.4.1 导入单个类

首先要注意文件名可能得更具体

导入类是一种有效的编程方式。如果在这个程序中包含了整个Car类，它该有多长呀！通过 将这个类移到一个模块中，并导入该模块，你依然可以使用其所有功能，但主程序文件变得整洁 而易于阅读了。这还能让你将大部分逻辑存储在独立的文件中；确定类像你希望的那样工作后， 你就可以不管这些文件，而专注于主程序的高级逻辑了。

### 9.4.2 在一个模块中存储多个类

虽然同一个模块中的类之间应存在某种相关性，但可根据需要在一个模块中存储任意数量的 类。

### 9.4.3 从一个模块中导入多个类

可根据需要在程序文件中导入任意数量的类。

`from car import Car,ElectricCar`

从一个模块中导入多个类时，用逗号分隔了各个类。导入必要的类后，就可根据需要 创建每个类的任意数量的实例。

### 9.4.4 导入整个模块

你还可以导入整个模块，再使用句点表示法访问需要的类。这种导入方法很简单，代码也易 于阅读。由于创建类实例的代码都包含模块名，因此不会与当前文件使用的任何名称发生冲突。

### 9.4.5 导入模块中的所有类

`from module_name import *`

不推荐使用这种导入方式，需要从一个模块中导入很多类时，最好导入整个模块，并使用句点语法 来访问类。

### 9.4.6 在一个模块中导入另一个模块

有时候，需要将类分散到多个模块中，以免模块太大，或在同一个模块中存储不相关的类。 将类存储在多个模块中时，你可能会发现一个模块中的类依赖于另一个模块中的类。在这种情况 下，可在前一个模块中导入必要的类。

## 9.5 Python 标准库

Python标准库是一组模块，安装的Python都包含它。你现在对类的工作原理已有大致的了解， 可以开始使用其他程序员编写好的模块了。可使用标准库中的任何函数和类，为此只需在程序开 头包含一条简单的import语句。